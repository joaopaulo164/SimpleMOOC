{% extends "base.html" %}

{# Carregando o arquivo com as TAGS presentes na pasta templatetags #}
{% load courses_tags %}

{% block container %}
<div class="pure-g-r content-ribbon">
    <div class="pure-u-1">
        <ul class="breadcrumb">
            {% block breadcrumb %}
            {% comment %} conteúdo que será alterado por herança por herança {% endcomment %}
            <li><a href="{% url 'accounts:dashboard' %}">Meu Painel</a></li>
            {% endblock %}
        </ul>
    </div>
    <div class="pure-u-1-3">
        <div class="pure-menu pure-menu-open">
            <ul>

                {# my_user é uma TAG que possui o seu próprio HTML (templatetags/my_courses.html) para ser incluído no meio do código #}
                {# my_user é a minha TAG e user (usuário atual) o parâmetro que ela recebe #}
                {# se utilizar a TAG my_user descomentar a linha abaixo e comentar o bloco posterior #}
                {% comment %}{% my_courses user %}{% endcomment %}

                {# comentar para utiizar a tag my_course - begin #}
                {% load_my_courses user as enrollments %}
                {# {% load_my_courses user as enrollments %} => esta TAG apenas atualiza o contexto e não possui HTML próprio #}
                {# {% load_my_courses user as enrollments %} => esta TAG é mais flexível por não possuir HTML #}
                <li class="pure-menu-heading">Meus Cursos</li>
                {% for enrollment in enrollments %}
                    <li><a href="#">{{ enrollment.course }}</a></li>
                {% empty %}
                    <li>Nenhum curso encontrado</li>
                {% endfor %}
                {# comentar para utiizar a tag my_course - end #}

                <li class="pure-menu-heading">Minha Conta</li>
                <li><a href="{% url 'accounts:edit' %}">Editar Conta</a></li>
                <li><a href="{% url 'accounts:edit_password' %}">Editar Senha</a></li>
            </ul>
        </div>
    </div>
    <div class="pure-u-2-3">
        <div class="inner">
            {% block dashboard_content %}
            {% comment %} conteúdo que será alterado por herança {% endcomment %}
            <p><strong>Usuário</strong>: {{ user }}</p>
            <p><strong>E-mail</strong>: {{ user.email }}</p>
            {% endblock %}
        </div>
    </div>
</div>
{% endblock %}